# geocode.city Autocomplete

Simple JS snippet to add a geocode.city-backed text input to an existing page.

## Usage

I'm bad at javascript (and worse at purescript) so this is an old-school
style of snippet: include it on your page, make sure you have an element
with id `geocode-city-autocomplete`, and we're done. If you have an api key,
have that element provide it via a `data-api-key` attribute.

For example:

```html
<div id="geocode-city-autocomplete" data-api-key="my-api-key">
</div>
```

The element would ideally be empty: the script replaces it with its
own input. All markup generated by the script has appropriately prefixed
CSS classes, so you can style it to match your own app. 

### Events

We emit two custom events: `citySelected` which receives an object with city
information when the user selects a city option, and `lookupError`, if we
get an error back from the server for any reason. Errors are displayed
by the component by default, so you may only need to listen for this event
if you need to do further error processing.

### Bundling

I distribute this project through [jsdelivr](https://www.jsdelivr.com/). See
[NOTES](./NOTES.md) for development commands, but for production, we just run:

```sh
npm run bundle
```

And the `dist/geocode_city.js` file should be updated. Minification is offloaded
to jsdelivr for the time being.
